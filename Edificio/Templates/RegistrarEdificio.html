{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar edificio</title>
    <link rel="stylesheet" href="{% static 'css/RegistrarEdificio.css' %}">
</head>
<body>
    <h1>Registrar edificio</h1>
    
    <form method="POST">
        {% csrf_token %}
        <label for="nombre_edificio">Nombre del edificio:</label><br>
        <input type="text" id="nombre_edificio" name="nombre_edificio" required><br><br>

        <label for="numero_edificio">Número del edificio:</label><br>
        <input type="number" id="numero_edificio" name="numero_edificio" required><br><br>

        <label for="ubicacion_edificio">Ubicación del edificio:</label><br>
        <input type="text" id="ubicacion_edificio" name="ubicacion_edificio" required><br><br>
        
        <label for="numero_pisos">Número de pisos del edificio:</label><br>
        <input type="number" id="numero_pisos" name="numero_pisos" onchange="mostrarRegistrarPisos()" required><br><br>

        <div id="pisos_container"></div>

        <button type="submit">Registrar edificio</button>
    </form>

    <script>
        function mostrarRegistrarPisos() {
            const numPisos = document.getElementById('numero_pisos').value;
            const container = document.getElementById('pisos_container');
            container.innerHTML = '';

            for (let i = 1; i <= numPisos; i++) {
                const label = document.createElement('label');
                label.textContent = `Registrar piso ${i}: `;
                
                const link = document.createElement('a');
                link.href = "{% url 'registrar_pisos' %}?edificio_id={{ edificio.id }}&num_pisos=${numPisos}";
                link.textContent = 'Registrar piso';
                link.target = '_blank';

                container.appendChild(label);
                container.appendChild(link);
                container.appendChild(document.createElement('br'));
            }
        }
    </script>
</body>
</html>

<!--<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar edificio</title>
    <link rel="stylesheet" href="{% static 'css/RegistrarEdificio.css' %}">
</head>
<body>
    <h1>Registrar edificio</h1>
    
    <form method="POST">
        {% csrf_token %}
        <label for="nombre_edificio">Nombre del edificio:</label><br>
        <input type="text" id="nombre_edificio" name="nombre_edificio" required><br><br>

        <label for="numero_edificio">Número del edificio:</label><br>
        <input type="number" id="numero_edificio" name="numero_edificio" required><br><br>

        <label for="ubicacion_edificio">Ubicación del edificio:</label><br>
        <input type="text" id="ubicacion_edificio" name="ubicacion_edificio" required><br><br>
        
        <label for="numero_pisos">Número de pisos del edificio:</label><br>
        <input type="number" id="numero_pisos" name="numero_pisos" onchange="mostrarRegistrarPisos()" required><br><br>

        <div id="pisos_container"></div>

        <button type="submit">Registrar edificio</button>
    </form>

    <script>
        function mostrarRegistrarPisos() {
            const numPisos = document.getElementById('numero_pisos').value;
            const container = document.getElementById('pisos_container');
            container.innerHTML = '';

            for (let i = 1; i <= numPisos; i++) {
                const label = document.createElement('label');
                label.textContent = `Registrar piso ${i}: `;
                
                const link = document.createElement('a');
//              link.href = `registrar_pisos_${i}.html`;                
//              link.href = `/registrar_pisos.html?num_pisos=${numPisos}/`;
//              link.href = "{% url 'registrar_pisos' %}?num_pisos=${numPisos}";
                link.href = "{% url 'registrar_pisos' %}?numero_edificio={{ edificio.id }}";
                link.textContent = 'Registrar piso';
                link.target = '_blank';

                container.appendChild(label);
                container.appendChild(link);
                container.appendChild(document.createElement('br'));
            }
        }
    </script>
</body>
</html>
